{"ast":null,"code":"const initialState = {\n  recipes: [],\n  allRecipes: [],\n  diets: []\n};\nexport default function rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'GET_RECIPES':\n      return { ...state,\n        recipes: action.payload,\n        allRecipes: action.payload\n      };\n\n    case 'GET_DIETS':\n      return { ...state,\n        diets: action.payload\n      };\n\n    case 'FILTER_BY_DIET':\n      const allRecipes = state.allRecipes;\n      const dietsFilter = action.payload === 'All' ? allRecipes : allRecipes.filter(el => el.diets && !el.createInDb ? el.diets.find(e => e === action.payload) : el.Diets.find(e => e.name === action.payload));\n      return { ...state,\n        recipes: dietsFilter\n      };\n\n    case 'ORDER_BY_HEALTH':\n      const orderDiets = action.payload === 'UP' ? state.recipes.sort(function (a, b) {\n        if (a.health_score > b.health_score) {\n          return 1;\n        }\n\n        if (b.health_score > a.health_score) {\n          return -1;\n        }\n\n        return 0;\n      }) : state.recipes.sort(function (a, b) {\n        if (a.health_score > b.health_score) {\n          return -1;\n        }\n\n        if (b.health_score > a.health_score) {\n          return 1;\n        }\n\n        return 0;\n      });\n      return { ...state,\n        recipes: orderDiets\n      };\n\n    case 'ORDER_BY_NAME':\n      let sortedArr = action.payload === 'asc' ? state.recipes.sort(function (a, b) {\n        if (a.name > b.name) {\n          return 1;\n        }\n\n        if (b.name > a.name) {\n          return -1;\n        }\n\n        return 0;\n      }) : state.recipes.sort(function (a, b) {\n        if (a.name > b.name) {\n          return -1;\n        }\n\n        if (b.name > a.name) {\n          return 1;\n        }\n\n        return 0;\n      });\n      return { ...state,\n        recipes: sortedArr\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["initialState","recipes","allRecipes","diets","rootReducer","state","action","type","payload","dietsFilter","filter","el","createInDb","find","e","Diets","name","orderDiets","sort","a","b","health_score","sortedArr"],"sources":["C:/Users/Surface Pro 4/Desktop/PI-Food-main/client/src/redux/reducer/index.js"],"sourcesContent":["const initialState={\r\n  recipes: [],\r\n  allRecipes: [],\r\n  diets: [],\r\n}\r\nexport default function rootReducer(state= initialState,action){\r\n  switch(action.type){\r\n    case 'GET_RECIPES':\r\n      return {\r\n        ...state,\r\n        recipes: action.payload,\r\n        allRecipes: action.payload\r\n      }\r\n    case 'GET_DIETS':\r\n      return  {\r\n        ...state,\r\n        diets: action.payload,\r\n      }\r\n    case 'FILTER_BY_DIET':\r\n      const allRecipes = state.allRecipes;\r\n      const dietsFilter=\r\n      action.payload === 'All'\r\n      ? allRecipes\r\n      : allRecipes.filter(\r\n        (el) =>\r\n        el.diets &&\r\n        !el.createInDb\r\n        ? el.diets.find(e => e===action.payload)\r\n        : el.Diets.find(e => e.name===action.payload)\r\n      ) \r\n      return{\r\n        ...state,\r\n        recipes: dietsFilter \r\n      }\r\n      case 'ORDER_BY_HEALTH':\r\n        const orderDiets=action.payload==='UP' ? \r\n        state.recipes.sort(function(a,b){\r\n          if(a.health_score > b.health_score){\r\n            return 1;\r\n          }if(b.health_score > a.health_score){\r\n            return -1;\r\n          }\r\n          return 0;\r\n        })\r\n        : state.recipes.sort(function(a,b){\r\n          if(a.health_score > b.health_score){\r\n            return -1;\r\n          }if(b.health_score > a.health_score){\r\n            return 1;\r\n          }\r\n          return 0;\r\n        })\r\n        return{\r\n          ...state,\r\n          recipes: orderDiets\r\n        }\r\n        case 'ORDER_BY_NAME':\r\n          let sortedArr= action.payload==='asc'?\r\n          state.recipes.sort( function (a,b){\r\n              if(a.name > b.name){\r\n                return 1;\r\n              }\r\n              if(b.name > a.name){\r\n                return -1;\r\n              }\r\n              return 0;  \r\n              \r\n          })  :\r\n          state.recipes.sort(  function(a,b) {\r\n            if(a.name > b.name) {\r\n              return -1;\r\n            }\r\n            if(b.name > a.name) {\r\n              return 1;\r\n            }\r\n            return 0;\r\n          })\r\n          return{\r\n            ...state,\r\n            recipes: sortedArr\r\n          }  \r\n      default:\r\n    return state;\r\n  }\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}