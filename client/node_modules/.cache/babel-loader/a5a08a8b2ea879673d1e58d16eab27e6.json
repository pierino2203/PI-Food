{"ast":null,"code":"const initialState = {\n  recipes: [],\n  allRecipes: [],\n  diets: [],\n  detail: []\n};\nexport default function rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'GET_RECIPES':\n      return { ...state,\n        recipes: action.payload,\n        allRecipes: action.payload\n      };\n\n    case 'GET_DIETS':\n      return { ...state,\n        diets: action.payload\n      };\n\n    case 'FILTER_BY_DIET':\n      const allRecipes = state.Recipes;\n      const dietsFilter = action.payload === 'All' ? allRecipes : allRecipes.filter(el => el.diets && !el.createInDb ? el.diets.find(e => e === action.payload) : el.Diets.find(e => e.name === action.payload));\n      return { ...state,\n        recipes: dietsFilter\n      };\n\n    case 'ORDER_BY_HEALTH':\n      const orderDiets = action.payload === 'UP' ? state.recipes.sort(function (a, b) {\n        if (a.health_score > b.health_score) {\n          return 1;\n        }\n\n        if (b.health_score > a.health_score) {\n          return -1;\n        }\n\n        return 0;\n      }) : state.recipes.sort(function (a, b) {\n        if (a.health_score > b.health_score) {\n          return -1;\n        }\n\n        if (b.health_score > a.health_score) {\n          return 1;\n        }\n\n        return 0;\n      });\n      return { ...state,\n        recipes: orderDiets\n      };\n\n    case 'ORDER_BY_NAME':\n      let sortedArr = action.payload === 'desc' ? state.recipes.sort(function (a, b) {\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return 1;\n        }\n\n        if (b.name.toLowerCase() > a.name.toLowerCase()) {\n          return -1;\n        }\n\n        return 0;\n      }) : state.recipes.sort(function (a, b) {\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return -1;\n        }\n\n        if (b.name.toLowerCase() > a.name.toLowerCase()) {\n          return 1;\n        }\n\n        return 0;\n      });\n      return { ...state,\n        recipes: sortedArr\n      };\n\n    case 'GET_RECIPE_ID':\n      return { ...state,\n        detail: action.payload\n      };\n\n    case 'GET_RECIPE_NAME':\n      return { ...state,\n        recipes: action.payload\n      };\n\n    case 'POST_RECIPE':\n      return { ...state\n      };\n\n    case 'CLEAN_DETAIL':\n      return { ...state,\n        detail: action.payload\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["initialState","recipes","allRecipes","diets","detail","rootReducer","state","action","type","payload","Recipes","dietsFilter","filter","el","createInDb","find","e","Diets","name","orderDiets","sort","a","b","health_score","sortedArr","toLowerCase"],"sources":["C:/Users/Surface Pro 4/Desktop/PI-Food-main/client/src/redux/reducer/index.js"],"sourcesContent":["\r\n\r\nconst initialState={\r\n  recipes: [],\r\n  allRecipes: [],\r\n  diets: [],\r\n  detail:[]\r\n}\r\nexport default function rootReducer(state= initialState,action){\r\n  switch(action.type){\r\n    case 'GET_RECIPES':\r\n      return {\r\n        ...state,\r\n        recipes: action.payload,\r\n        allRecipes: action.payload\r\n      }\r\n    case 'GET_DIETS':\r\n      return  {\r\n        ...state,\r\n        diets: action.payload,\r\n      }\r\n    case 'FILTER_BY_DIET':\r\n      const allRecipes = state.Recipes;\r\n      const dietsFilter=\r\n      action.payload === 'All'\r\n      ? allRecipes\r\n      : allRecipes.filter(\r\n        (el) =>\r\n        el.diets &&\r\n        !el.createInDb\r\n        ? el.diets.find(e => e===action.payload)\r\n        : el.Diets.find(e => e.name===action.payload)\r\n      ) \r\n      return{\r\n        ...state,\r\n        recipes: dietsFilter \r\n      }\r\n    case 'ORDER_BY_HEALTH':\r\n      const orderDiets=action.payload==='UP' ? \r\n      state.recipes.sort(function(a,b){\r\n        if(a.health_score > b.health_score){\r\n          return 1;\r\n        }if(b.health_score > a.health_score){\r\n          return -1;\r\n        }\r\n          return 0;\r\n        })\r\n      : state.recipes.sort(function(a,b){\r\n        if(a.health_score > b.health_score){\r\n           return -1;\r\n        }if(b.health_score > a.health_score){\r\n           return 1;\r\n        }\r\n          return 0;\r\n      })\r\n      return{\r\n        ...state,\r\n        recipes: orderDiets\r\n      }\r\n    case 'ORDER_BY_NAME':\r\n      let sortedArr= action.payload==='desc'?\r\n       state.recipes.sort( function (a,b){\r\n              if(a.name.toLowerCase() > b.name.toLowerCase()){\r\n                return 1;\r\n              }\r\n              if(b.name.toLowerCase() > a.name.toLowerCase()){\r\n                return -1;\r\n              }\r\n              return 0;  \r\n              \r\n          })  :\r\n          state.recipes.sort(  function(a,b) {\r\n            if(a.name.toLowerCase() > b.name.toLowerCase()) {\r\n              return -1;\r\n            }\r\n            if(b.name.toLowerCase() > a.name.toLowerCase()) {\r\n              return 1;\r\n            }\r\n            return 0;\r\n          })\r\n          return{\r\n            ...state,\r\n            recipes: sortedArr\r\n          }    \r\n    case 'GET_RECIPE_ID':\r\n      return{\r\n        ...state,\r\n        detail: action.payload\r\n      }\r\n    case 'GET_RECIPE_NAME':\r\n      return{\r\n        ...state,\r\n        recipes: action.payload\r\n      }      \r\n            \r\n    case 'POST_RECIPE':\r\n      return{\r\n        ...state\r\n      }\r\n    case 'CLEAN_DETAIL':\r\n      return{\r\n        ...state,\r\n        detail: action.payload\r\n      }  \r\n   \r\n    default:\r\n    return state;\r\n  }\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}